<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" name="viewport">
<meta property="og:title" content="REGIONAL REFUGEE AND MIGRANT RESPONSE PLAN (RRMRP) 2016">
<meta property="og:type" content="article">
<meta property="og:site_name" content="REGIONAL REFUGEE AND MIGRANT RESPONSE PLAN (RRMRP) 2016">
<meta property="og:description" content="REGIONAL REFUGEE AND MIGRANT RESPONSE PLAN (RRMRP) 2016 ">
    <title>REGIONAL REFUGEE AND MIGRANT RESPONSE PLAN (RRMRP) 2016 </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/dc.css">
    <link rel="stylesheet" type="text/css" href="css/3w-dashboard.css">
    <!-- Add IntroJs styles and JS -->
    <link rel="stylesheet" type="text/css" href="css/introjs.css">
    <script type="text/javascript" src="js/intro.js"></script>
    <script src="js/jquery.js"></script>

    <!-- map the data to - edited on 25 May 2016 - -- ---the GeoJSON object -->
    <script src="js/data-jo.js"></script>
    <link href="http://www.unhcr.org/favicon.ico" rel="icon" type="image/x-icon">
  <style>@-webkit-keyframes popaqisqezremkggezpgzrwftdammlcebrfuyv {50% {-webkit-transform:scale(1.2);}100% {-webkit-transform:scale(1);}}@keyframes popaqisqezremkggezpgzrwftdammlcebrfuyv {50% {-webkit-transform:scale(1.2);transform:scale(1.2);}100% {-webkit-transform:scale(1);transform:scale(1);}}#aqisqezremkggezpgzrwftdammlcebrfuyv{padding:0;margin:0;font:13px Arial,Helvetica;text-transform:none;font-size: 100%;vertical-align:baseline;line-height:normal;color:#fff;position:static;border:solid 2px #fff !important;color:#fff !important;display:block !important;height:auto !important;margin:0 !important;opacity:0.9 !important;padding:7px 10px !important;position:fixed !important;visibility:visible !important;width:auto !important;z-index:2147483647 !important;-moz-border-radius:5px !important;border-radius:5px !important;-moz-box-shadow:0px 0px 20px #000 !important;box-shadow:0px 0px 20px #000 !important;}.aqisqezremkggezpgzrwftdammlcebrfuyv-blocked{padding:0;margin:0;font:13px Arial,Helvetica;text-transform:none;font-size: 100%;vertical-align:baseline;line-height:normal;color:#fff;position:static;color:#AAA !important;display:inline !important;text-decoration:line-through !important;}#aqisqezremkggezpgzrwftdammlcebrfuyv br{display:block !important;padding:0;margin:0;font:13px Arial,Helvetica;text-transform:none;font-size: 100%;vertical-align:baseline;line-height:normal;color:#fff;position:static;}#aqisqezremkggezpgzrwftdammlcebrfuyv span{background:transparent !important;padding:0;margin:0;font:13px Arial,Helvetica;text-transform:none;font-size: 100%;vertical-align:baseline;line-height:normal;color:#fff;position:static;}#aqisqezremkggezpgzrwftdammlcebrfuyv div{padding:0;margin:0;font:13px Arial,Helvetica;text-transform:none;font-size: 100%;vertical-align:baseline;line-height:normal;color:#fff;position:static;border:0 !important;margin:0 !important;padding:0 !important;width:auto !important;letter-spacing:normal !important;font:13px Arial,Helvetica !important;text-align:left !important;text-shadow:none !important;text-transform:none !important;word-spacing:normal !important;}#aqisqezremkggezpgzrwftdammlcebrfuyv a{padding:0;margin:0;font:13px Arial,Helvetica;text-transform:none;font-size: 100%;vertical-align:baseline;line-height:normal;color:#fff;position:static;font-weight:normal !important;background:none !important;text-decoration:underline !important;color:#fff !important;}a#aqisqezremkggezpgzrwftdammlcebrfuyv-gear{padding:0;margin:0;font:13px Arial,Helvetica;text-transform:none;font-size: 100%;vertical-align:baseline;line-height:normal;color:#fff;position:static;text-decoration:none !important;position:absolute !important;display:none !important;font-size:20px !important;width:20px !important;height:20px !important;line-height:20px !important;text-align:center !important;background-color:rgba(255,255,255,.8) !important;background-image:url(resource://firefox-at-ghostery-dot-com/ghostery/data/images/gear.svg) !important;background-size:16px 16px !important;background-position:center center !important;background-repeat:no-repeat !important;text-decoration:none !important;}a#aqisqezremkggezpgzrwftdammlcebrfuyv-gear:hover{-webkit-animation-name:popaqisqezremkggezpgzrwftdammlcebrfuyv !important;animation-name:popaqisqezremkggezpgzrwftdammlcebrfuyv !important;-webkit-animation-duration:0.3s !important;animation-duration:0.3s !important;}#aqisqezremkggezpgzrwftdammlcebrfuyv:hover #aqisqezremkggezpgzrwftdammlcebrfuyv-gear{text-decoration:none !important;display:inline-block !important;}#aqisqezremkggezpgzrwftdammlcebrfuyv hr{visibility:hidden !important;padding:0;margin:0;font:13px Arial,Helvetica;text-transform:none;font-size: 100%;vertical-align:baseline;line-height:normal;color:#fff;position:static;height:1em;}@media print{#aqisqezremkggezpgzrwftdammlcebrfuyv{display:none !important;}}</style>
<style>
path {
  stroke: #75F75A;
  stroke-width: 0.6px;

  }

.dc-chart g.selected path {
}

.dc-chart g.deselected path {
    fill: white;
	stroke: #75F75A;
	stroke-width: 0.6px;

}

 g.deselected path {
    fill: #EAEAEA;

}


g.selected path {
    stroke: yellow;
    stroke-width: 2px;
}
</style>
  </head>

  <body>
    <div class="container" id="dashboard">
                <h2>
                	<!-- <a  href="http://data.unhcr.org/jordan">  -->
                	<a  href=" ">
                	<img src="images/coordination.png" style="height: 48px; width: 48px"></a>
        <strong>REGIONAL REFUGEE AND MIGRANT RESPONSE PLAN (RMRP) 2016</strong></h2>
        <div class="col-xs-12">
		The RMRP is co-led by the United Nations High Commissioner for Refugees (UNHCR) and the International Organization for Migration (IOM), bringing together more than 60 UN agencies and NGOs under one consolidated plan for the refugee and migrant crisis affecting Southern Europe and the Western Balkans.
        <br> <strong>All charts are based on USD values appealed. Click on any of the graphs below to filter and slice the data.</strong>
            For more information on the RMRP, click here  <a href="http://data.unhcr.org/mediterranean/regional.php" target="_blank">here</a>.<br>
            </div>

        <div class="row">
            <div class="col-md-8">
                <div class="dc-chart" id="count-info" data-step="12" data-intro="Click on reset to cancel the filters." data-position="right">
                    <h4><strong><span class="filter-count"></span></strong> Activities for a budget of <strong> <span id="totalusd" class="number-display"></span></strong>  USD selected out of <strong><span class="total-count"></span></strong> records.</div></h4>

            </div>
            <br>
            <div class="col-md-4">
                <a class="reset btn btn-primary btn-sm" id="reset" href="javascript:dc.filterAll();dc.redrawAll();">Reset All</a>
                <a class="btn btn btn-success" href="javascript:void(0);" onclick="javascript:introJs().start();">Tutorial</a>
            </div>
        </div>

        <div class="row">
            <div class="col-md-4">

                <div class="row">
                    <div id="sector" class="col-xs-12 col-md-8 dc-chart" data-step="2" data-intro="Click on this row chart chart to filter by sector." data-position="right">
                        <h5><strong>By Sectors / Working Groups</strong></h5>
                    </div>
                </div>
                <div style="position:relative;top:180;left:20px; width:700px">
				<strong>
				<BR>
				UNHCR & IOM thank all partners for their data and cooperation.
				<BR>
				Produced by the Regional Bureau for Europe, UNHCR, Geneva, with support from the UNHCR Jordan team.
				</strong>

               </div>

            </div>


            <div class="col-md-4">
                <div class="row">
                    <div id="map2" class="col-xs-12 col-md-8 dc-chart" data-step="4" data-intro="Or click on this map to filter by area of operation." data-position="right">
                        <h5><strong>Filter on the Map </strong><small>by Country</small></h5>

                    </div>
                </div>
                <div class="row">
				<br>
                    <div id="area" class="col-xs-12 col-md-8 dc-chart" data-step="5" data-intro="Click on this row chart to filter by area of operation." data-position="right">
                        <h5><strong>Top Countries </strong><small>by Country</small></h5>

                    </div>

                </div>
            </div>


            <div class="col-md-4">
                <div class="row">
                    <div id="orgs" class="col-xs-12 col-md-8 dc-chart" data-step="6" data-intro="Click on this row chart to filter by partner." data-position="left">
                        <h5><strong>Top 20 Partners </strong><small>by Appeal. Scroll down for Partners filter.</small></h5>
                    </div>

				</div>
				<div class="row">

                </div>

            </div>
        </div>
        <div class="row">
            <div class="col-md-12">

            </div>
        </div>
        <div class="row">
            <div class="col-md-12">

            </div>
        </div>

                <div class="row">

            <div class="col-md-12" data-step="11" data-intro="Click on this row chart to filter by partner." data-position="right">
                <h5><strong>Filter by Partners</strong><small> </small></h5>
                <!-- changes made by Javed Khan (khanjav@unhcr.org). added new partners based on revised RMRP and removed those which are not part of the response plan - 27 May 2016 -->

<a href='javascript:dc.filterAll(); org_chart.filter("ActionAid"); 	dc.renderAll();rtip();' ><img src="images/partner/actionaid.jpg" 	height=20px alt="Filter on ActionAid" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("ADRA"); 		dc.renderAll();rtip();' ><img src="images/partner/adra.jpg" 		height=20px alt="Filter on ADRA " /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("AGAPE"); dc.renderAll();rtip();' ><img src="images/partner/agape.png" height=20px alt="Filter on AGAPE" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("IOCC NRC"); dc.renderAll();rtip();' ><img src="images/partner/ioccnrc.jpg" height=20px alt="Filter on IOCC NRC" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("ARSIS"); dc.renderAll();rtip();' ><img src="images/partner/arsis.png" height=20px alt="Filter on ARSIS" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("CARE International"); dc.renderAll();rtip();' ><img src="images/partner/care.jpg" height=20px alt="Filter on CARE International" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("Caritas Athens"); dc.renderAll();rtip();' ><img src="images/partner/cariasathens.jpg" height=20px alt="Filter on Caritas Athens" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("Caritas Hellas"); dc.renderAll();rtip();' ><img src="images/partner/caritashellas.jpg" height=20px alt="Filter on Caritas Hellas" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("Catholic Relief Services "); dc.renderAll();rtip();' ><img src="images/partner/crs.jpg" height=20px alt="Filter on Catholic Relief Services" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("Croatian Red Cross"); dc.renderAll();rtip();' ><img src="images/partner/croatianrc.png" height=20px alt="Filter on Croatian Red Cross" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("Dorcas"); dc.renderAll();rtip();' ><img src="images/partner/dorcas.png" height=20px alt="Filter on Dorcas" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("Disaster Tech Lab"); dc.renderAll();rtip();' ><img src="images/partner/dtl.png" height=20px alt="Filter on DTL" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("DRC"); dc.renderAll();rtip();' ><img src="images/partner/drc.jpg" height=20px alt="Filter on DRC" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("GIZ "); dc.renderAll();rtip();' ><img src="images/partner/giz.jpg" height=20px alt="Filter on GIZ " /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("HCIT"); dc.renderAll();rtip();' ><img src="images/partner/hcit.png" height=20px alt="Filter on HCIT" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("Help-Hilfe "); dc.renderAll();rtip();' ><img src="images/partner/help.png" height=20px alt="Filter on Help-Hilfe " /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("HSA"); dc.renderAll();rtip();' ><img src="images/partner/hsa.jpg" height=20px alt="Filter on HSA" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("Human Appeal"); dc.renderAll();rtip();' ><img src="images/partner/happeal.png" height=20px alt="Filter on Human Appeal" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("ICMC"); dc.renderAll();rtip();' ><img src="images/partner/icmc.jpg" height=20px alt="Filter on ICMC" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("LWB"); dc.renderAll();rtip();' ><img src="images/partner/lwb.jpg" height=20px alt="Filter on LWB" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("IMC "); dc.renderAll();rtip();' ><img src="images/partner/imc.jpg" height=20px alt="Filter on IMC " /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("INTERSOS"); dc.renderAll();rtip();' ><img src="images/partner/intersos.jpg" height=20px alt="Filter on INTERSOS" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("IOM "); dc.renderAll();rtip();' ><img src="images/partner/iom.jpg" height=20px alt="Filter on IOM " /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("IRC "); dc.renderAll();rtip();' ><img src="images/partner/irc.jpg" height=20px alt="Filter on IRC " /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("ISRAAID"); dc.renderAll();rtip();' ><img src="images/partner/israaid.jpg" height=20px alt="Filter on ISRAAID" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("JRS "); dc.renderAll();rtip();' ><img src="images/partner/jrs.jpg" height=20px alt="Filter on JRS " /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("KSPM-ERP"); dc.renderAll();rtip();' >KSPM-ERP</a>
<a href='javascript:dc.filterAll(); org_chart.filter("La Strada"); dc.renderAll();rtip();' ><img src="images/partner/lastrada.jpg" height=20px alt="Filter on La Strada" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("Legis"); dc.renderAll();rtip();' ><img src="images/partner/legis.jpg" height=20px alt="Filter on Legis" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("MCIC"); dc.renderAll();rtip();' ><img src="images/partner/mcic.png" height=20px alt="Filter on Macedonian Center for International Cooperation" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("Macedonian Red Cross"); dc.renderAll();rtip();' ><img src="images/partner/mrc.png" height=20px alt="Filter on Macedonian Red Cross" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("MDM"); dc.renderAll();rtip();' ><img src="images/partner/mdm.jpg" height=20px alt="Filter on MDM" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("Mercy Corps"); dc.renderAll();rtip();' ><img src="images/partner/mc.jpg" height=20px alt="Filter on Mercy Corps" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("MYLA "); dc.renderAll();rtip();' ><img src="images/partner/myla.jpg" height=20px alt="Filter on MYLA " /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("Network For Children Rights"); dc.renderAll();rtip();' ><img src="images/partner/ncrights.jpg" height=20px alt="Filter on NFCR" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("NRC"); dc.renderAll();rtip();' ><img src="images/partner/nrefugeec.jpg" height=20px alt="Filter on NRC" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("NOSTOS"); dc.renderAll();rtip();' ><img src="images/partner/nostos1.jpg" height=20px alt="Filter on NOSTOS" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("NOSTOS"); dc.renderAll();rtip();' >NOSTOS</a>
<a href='javascript:dc.filterAll(); org_chart.filter("Nun Kultura"); dc.renderAll();rtip();' >Nun Kultura</a>
<a href='javascript:dc.filterAll(); org_chart.filter("OHCHR "); dc.renderAll();rtip();' ><img src="images/partner/ohchr.jpg" height=20px alt="Filter on OHCHR " /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("Operation Mercy"); dc.renderAll();rtip();' ><img src="images/partner/operation-mercy.jpg" height=20px alt="Filter on Operation Mercy" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("OXFAM"); dc.renderAll();rtip();' ><img src="images/partner/oxfam.jpg" height=20px alt="Filter on OXFAM" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("PIC"); dc.renderAll();rtip();' >PIC</a>
<a href='javascript:dc.filterAll(); org_chart.filter("Samaritan Purse"); dc.renderAll();rtip();' ><img src="images/partner/sp.png" height=20px alt="Filter on Samaritan Purse" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("Salvation Army"); dc.renderAll();rtip();' ><img src="images/partner/sarmy.jpg" height=20px alt="Salvation Army" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("SI"); dc.renderAll();rtip();' ><img src="images/partner/sinternational.jpg" height=20px alt="Salvation Army" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("SCI "); dc.renderAll();rtip();' ><img src="images/partner/sci.jpg" height=20px alt="Filter on SCI " /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("SLOGA "); dc.renderAll();rtip();' ><img src="images/partner/sloga.png" height=20px alt="Filter on SLOGA " /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("Slovenian Red Cross"); dc.renderAll();rtip();' ><img src="images/partner/src.jpg" height=20px alt="Filter on Slovenian Red Cross " /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("Solidarity Now"); dc.renderAll();rtip();' ><img src="images/partner/solidarity.png" height=20px alt="Filter on Solidarity Now" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("TWB"); dc.renderAll();rtip();' ><img src="images/partner/twb.png" height=20px alt="Filter on Solidarity Now" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("UN Women"); dc.renderAll();rtip();' ><img src="images/partner/unwomen.jpg" height=20px alt="Filter on UN Women" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("UNDP "); dc.renderAll();rtip();' ><img src="images/partner/undp.jpg" height=20px alt="Filter on UNDP " /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("UNFPA "); dc.renderAll();rtip();' ><img src="images/partner/unfpa.jpg" height=20px alt="Filter on UNFPA " /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("UNHCR "); dc.renderAll();rtip();' ><img src="images/partner/unhcr.jpg" height=20px alt="Filter on UNHCR " /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("UNICEF "); dc.renderAll();rtip();' ><img src="images/partner/unicef.jpg" height=20px alt="Filter on UNICEF " /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("UNV"); dc.renderAll();rtip();' ><img src="images/partner/unv.png" height=20px alt="Filter on UNV" /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("WAHA "); dc.renderAll();rtip();' ><img src="images/partner/waha.png" height=20px alt="Filter on WAHA " /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("WHO "); dc.renderAll();rtip();' ><img src="images/partner/who.jpg" height=20px alt="Filter on WHO " /></a>
<a href='javascript:dc.filterAll(); org_chart.filter("IOM"); dc.renderAll();rtip();' ><img src="images/partner/iom.jpg" height=20px alt="Filter on " /></a>

                <br><br>
            </div>
        </div>




    </strong></strong></div><strong><strong>

    <script type="text/javascript" src="js/d3_002.js"></script>
    <script type="text/javascript" src="js/crossfilter.js"></script>
    <script type="text/javascript" src="js/dc.js"></script>
    <script type="text/javascript" src="js/d3.js"></script>

 <script>


        var sector_chart = dc.rowChart("#sector");
        var org_chart = dc.rowChart("#orgs");
        var area_chart = dc.rowChart("#area");


        var map2_chart = dc.geoChoroplethChart("#map2");

        d3.csv("data/rrmrpviz.csv", function(csv_data){

            var numberFormat = d3.format(",f");
           // si = d3.format('s');
           // siMod = function(val) { return si(val).replace(/G/, 'B') };

            var cf = crossfilter(csv_data);

            cf.agency = cf.dimension(function(d) { return d.Agency; });
            cf.sector = cf.dimension(function(d) { return d.Sector; });
            cf.area = cf.dimension(function(d) { return d.Country; });
            cf.ccode = cf.dimension(function(d) { return d.Ccode; });
            cf.total = cf.dimension(function(d) { return d.Total; });




            var agency = cf.agency.group();
            var sector = cf.sector.group();
            var area = cf.area.group();
            var ccode = cf.ccode.group();
            var all = cf.groupAll();


            var bytotalGroup = cf.total.groupAll().reduceSum(function (d) { return d.Total; });

            var sectorByTotal = cf.sector.group().reduceSum(function (d) { return d.Total; });
            var agencyByTotal = cf.agency.group().reduceSum(function (d) { return d.Total; });
            var areaByTotal = cf.area.group().reduceSum(function (d) { return d.Total; });
            var ccodeByTotal = cf.ccode.group().reduceSum(function (d) { return d.Total; });





            // Implement bookmarking chart filters category --> Thanks to https://github.com/franckalbinet
            // Serializing filters values in URL
            function getFiltersValues() {
                var filters = [
                    { name: 'sector', value: sector_chart.filters()},
                    { name: 'area', value: area_chart.filters()},
                    { name: 'map2', value: map2_chart.filters()},
                    { name: 'org', value: org_chart.filters()}
                    ];
                var recursiveEncoded = $.param( filters );
                location.hash = recursiveEncoded;
            }
            // Init chart filters
            function initFilters() {
                // Get hash values
                var parseHash = /^#sector=([A-Za-z0-9,_\-\/\s]*)&objective=([A-Za-z0-9,_\-\/\s]*)&output=([A-Za-z0-9,_\-\/\s]*)&category=([A-Za-z0-9,_\-\/\s]*)&area=([A-Za-z0-9,_\-\/\s]*)&map2=([A-Za-z0-9,_\-\/\s]*)&org=([A-Za-z0-9,_\-\/\s]*)$/;
                var parsed = parseHash.exec(decodeURIComponent(location.hash));
                function filter(chart, rank) {  // for instance chart = sector_chart and rank in URL hash = 1
                    // sector chart
                    if (parsed[rank] == "") {
                        chart.filter(null);
                    }
                    else {
                        var filterValues = parsed[rank].split(",");
                        for (var i = 0; i < filterValues.length; i++ ) {
                            chart.filter(filterValues[i]);
                        }
                    }
                }
                if (parsed) {
                    filter(sector_chart, 1);
                    filter(objective_chart, 2);
                    filter(output_chart, 3);
                    filter(category_chart, 4);
                    filter(area_chart, 5);
                    filter(map2_chart, 6);
                    filter(org_chart, 7);
                    filter(costunit_chart, 8);
                    filter(gender_chart, 9);
                    filter(target_chart, 10);
                }
            }

            // tooltips for row chart
            var rowTip = d3.tip()
                  .attr('class', 'd3-tip')
                  .offset([-10, 0])
                  .html(function (d) { return "<span style='color: #f0027f'>" +  d.key + "</span> : "  + numberFormat(d.value) + " USD"; });




            dc.dataCount("#count-info")
                .dimension(cf)
                .group(all);



           dc.numberDisplay("#totalusd")
               .formatNumber(d3.format(",f"))
               .valueAccessor(function(d){return +d})
            .group(bytotalGroup);




             /* 3W data are sorted per sector and color are allocated to sectors as per standard code in rrp6 */
            sector_chart.width(400).height(300)
                .dimension(cf.sector)
                .group(sectorByTotal)
                .elasticX(true)
                .on("filtered", getFiltersValues)
                .data(function(group) {
                    return group.top(15);
                })
                .colors(['#3182bd'])
                .colorDomain([0,0])
                .colorAccessor(function(d, i){return 1;})
				.margins({top: 0, right: 55, bottom: -1, left: 30})
                .xAxis().ticks(4).tickFormat(d3.format("s"));


            area_chart.width(400).height(220)
                .dimension(cf.area)
                .group(areaByTotal)
                .elasticX(true)
                .on("filtered", getFiltersValues)
                .data(function(group) {
                    return group.top(7);
                })
                .colors(['#A9DDA9'])
                .colorDomain([0,0])
                .colorAccessor(function(d, i){return 1;})
                .xAxis().ticks(4).tickFormat(d3.format("s"));

            org_chart.width(450).height(570)
                .dimension(cf.agency)
                .group(agencyByTotal)
                .elasticX(true)
                .on("filtered", getFiltersValues)
                .data(function(group) {
                    return group.top(20);
                })
                .colors(['#3182bd'])
                .colorDomain([0,0])
                .colorAccessor(function(d, i){return 1;})
                .xAxis().ticks(4).tickFormat(d3.format("s"));


         /* Region map with ID rid */
            d3.json("data/world.geojson", function (governJSON) {

                 map2_chart.width(350).height(200)
                    .dimension(cf.ccode)
                    .group(ccodeByTotal)
                    .colors(['#FFFFFF', "rgb(49,163,84)"]) //'#CB181D'
                    .colorDomain([0, 2])
                    .overlayGeoJson(governJSON.features, "cname", function (d) {
                        return d.properties.cname;
                    })
                    .projection(d3.geo.mercator().center([58,29]).scale(600)) /* Center on Jordan */
					.title(function (d) {
                        return "Geo-Filter: " + d.key;
                    });

                    $('#reset').on('click', function (){
                      dc.filterAll();
                      dc.redrawAll();
                      return false;
                    })
                    //dc.redrawAll();
                    dc.renderAll();

                    /* Customised infobox */
                    d3.selectAll("g.row").call(rowTip);
                    d3.selectAll("g.row").on('mouseover', rowTip.show)
                        .on('mouseout', rowTip.hide);


                });

            $('#loading').hide();
            $('#dashboard').show();

        });

	function rtip(){
            var numberFormat = d3.format(",f");
            var rowTip = d3.tip()
                  .attr('class', 'd3-tip')
                  .offset([-10, 0])
                  .html(function (d) { return "<span style='color: #f0027f'>" +  d.key + "</span> : "  + numberFormat(d.value) + " USD"; });


	                    d3.selectAll("g.row").call(rowTip);
                    d3.selectAll("g.row").on('mouseover', rowTip.show)
                        .on('mouseout', rowTip.hide);
				}
    </script>
    <script src="js/bootstrap.js"></script>



  </strong></strong><div class="d3-tip n" style="position: absolute; display: none; box-sizing: border-box; top: 234.633px; left: 635px;"></div><div class="d3-tip n" style="position: absolute; display: none; box-sizing: border-box; top: 254.195px; left: 328.135px;"></div></body></html>
